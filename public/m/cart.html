<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>购物车</title>
    <link rel="icon" href="./images/favicon.ico">
    <link rel="stylesheet" href="./lib/mui/css/mui.css">
    <link rel="stylesheet" href="./lib/fontAwesome/css/font-awesome.css">
    <link rel="stylesheet/less" href="./less/cart.less">
    <script src="./lib/less/less.js"></script>
</head>
<body>

    <header class="header">
        <a href="category.html" class="fa fa-arrow-left"></a>
        <h4>购物车</h4>
        <a href="#" class="fa fa-refresh"></a>
    </header>

    <div id="main" class="main">
        <ul class="mui-table-view">
            
        </ul>
        <div class="total">
            <div class="mui-pull-left">
                订单总额： ￥
                <span class="sum">0</span>
            </div>
            <div class="mui-pull-right">
                <button class="mui-btn mui-btn-danger">生成订单</button>
            </div>
        </div>
    </div>


    <!-- 底部 -->
    <footer class="footer">
        <div class="mui-row">
            <div class="mui-col-xs-3">
                <a href="#" class="fa fa-home active">
                    <span>首页</span>
                </a>
            </div>
            <div class="mui-col-xs-3">
                <a href="./category.html" class="fa fa-bars">
                    <span>分类</span>
                </a>
            </div>
            <div class="mui-col-xs-3">
                <a href="cart.html" class="fa fa-shopping-cart">
                    <span>购物车</span>
                </a>
            </div>
            <div class="mui-col-xs-3">
                <a href="user.html" class="fa fa-user">
                    <span>会员中心</span>
                </a>
            </div>
        </div>
    </footer>

    <!-- 购物车数据模板 -->
    <script type="text/html" id="cartTmp">
        {{each rows as value i}}
            <li class="mui-table-view-cell mui-media mui-transitioning">
                <!-- 把当前商品的数量 和 总数量 当前尺码 总尺码 通过属性绑定到div上 编辑的时候获取当前编辑父元素div上的属性的值 -->
                <div class="mui-slider-right mui-disabled" data-id="{{value.id}}" data-num="{{value.num}}" data-product-num="{{value.productNum}}" data-size="{{value.size}}" data-product-size="{{value.productSize}}">
                    <a class="mui-btn mui-btn-primary btn-edit">编辑</a>
                    <a class="mui-btn mui-btn-danger btn-delete">删除</a>
                </div>
                <div class="mui-slider-handle mui-navigate-right">
                    <div class="check">
                        <img class="mui-media-object mui-pull-left product-img" src="{{value.pic[0].picAddr}}">
                        <input type="checkbox" class="btn-check" data-price="{{value.price}}" data-num="{{value.num}}">
                    </div>
                        
                    <div class="mui-media-body">
                        <p class="title">{{value.proName}}</p>
                        <div class="price">
                            <span class="new-price">${{value.price}}</span>
                            <span class="old-price">${{value.oldPrice}}</span>
                        </div>
                        <div class="size">
                            <div class="mui-pull-left">鞋码: {{value.size}}</div>
                            <div class="mui-pull-right">x<span>{{value.num}}</span>双</div>
                        </div>
                    </div>
                </div>
            </li>
        {{/each}}
    </script>

    
    <!-- 修改的数据模板 -->
    <script type="text/html" id="updateTmp">
        <div class="product-size">
                尺码： 
                {{each productSize as value i}}
                <span class="btn-size {{value == size ? 'active' : ''}}" data-size="{{value}}">{{value}}</span>
                {{/each}}
        </div>
        <div class="product-num">
                数量：<span class="mui-numbox" data-numbox-step='1' data-numbox-min='1' data-numbox-max='{{productNum}}'>
                          <button class="mui-btn mui-numbox-btn-minus" type="button">-</button>
                          <input class="mui-numbox-input" type="number" value="{{num}}" />
                          <button class="mui-btn mui-numbox-btn-plus" type="button">+</button>
                        </span> 剩余：<span>{{productNum}}</span>件
            </div>
    </script>

    <script src="./lib/mui/js/mui.js"></script>
    <script src="./lib/zepto/zepto.min.js"></script>
    <script src="./lib/artTemplate/template.js"></script>
    <script src="./js/cart.js"></script>
</body>
</html>